<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Announcements | APSC</title>
    <link rel="icon" href="apsc_new_logo.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-blue: #0056D2;
            --text-main: #1d1d1f;
            --text-sub: #6e6e73;
            --bg-body: #ffffff;
            --border-color: #f5f5f7;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
        }

        /* --- 语言切换 --- */
        .lang-switcher {
            background: #fff; padding: 12px 0; text-align: center; border-bottom: 1px solid var(--border-color);
        }
        .lang-btn {
            background: none; border: none; font-size: 10px; font-weight: 600;
            letter-spacing: 0.1em; color: var(--text-sub); margin: 0 10px;
            cursor: pointer; transition: var(--transition);
        }
        .lang-btn.active { color: var(--brand-blue); }

        /* --- 导航栏 --- */
        nav {
            background: rgba(255,255,255,0.85);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            position: sticky; top: 0; z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }
        .nav-container {
            max-width: 1300px; margin: 0 auto;
            display: flex; justify-content: space-between; align-items: center; padding: 12px 40px;
            position: relative;
        }
        .nav-brand-link img { height: 35px; }
        .nav-links { display: flex; list-style: none; gap: 25px; align-items: center; }
        .nav-links a { text-decoration: none; color: var(--text-main); font-size: 13px; font-weight: 500; transition: var(--transition); }
        .nav-links a:hover { color: var(--brand-blue); }
         .btn-donate-nav {
            border: 1px solid var(--brand-blue);
            padding: 6px 15px; border-radius: 50px;
            color: var(--brand-blue) !important;
        }
        .btn-donate-nav:hover { background: var(--brand-blue); color: #fff !important; }

        /* --- 汉堡菜单 CSS --- */
        .hamburger { display: none; cursor: pointer; width: 30px; height: 20px; position: relative; z-index: 1001; }
        .hamburger span { display: block; width: 100%; height: 2px; background-color: var(--text-main); position: absolute; transition: var(--transition); border-radius: 2px; }
        .hamburger span:nth-child(1) { top: 0; }
        .hamburger span:nth-child(2) { top: 9px; }
        .hamburger span:nth-child(3) { top: 18px; }
        .hamburger.active span:nth-child(1) { transform: rotate(45deg); top: 9px; }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: rotate(-45deg); top: 9px; }

        /* --- 搜索与工具栏 --- */
        .controls-wrapper {
            max-width: 900px; margin: 40px auto 0; padding: 0 40px;
            display: flex; gap: 15px; flex-wrap: wrap;
        }
        .search-box {
            flex: 1; min-width: 250px;
            padding: 12px 20px; border-radius: 12px;
            border: 1px solid var(--border-color);
            background: #fbfbfd; font-family: inherit; font-size: 14px;
            outline: none; transition: var(--transition);
        }
        .search-box:focus { border-color: var(--brand-blue); background: #fff; box-shadow: 0 0 0 4px rgba(0,86,210,0.05); }
        
        .sort-btn {
            padding: 12px 20px; border-radius: 12px;
            border: 1px solid var(--border-color);
            background: #fbfbfd; cursor: pointer; font-size: 13px; font-weight: 600;
            transition: var(--transition); color: var(--text-sub);
        }
        .sort-btn:hover { background: #fff; border-color: var(--brand-blue); color: var(--brand-blue); }

        /* --- 主体内容 --- */
        .wrapper { max-width: 900px; margin: 0 auto; padding: 60px 40px 100px; }
        .page-header { text-align: center; margin-bottom: 40px; }
        .page-header h1 { font-size: 3.2rem; font-weight: 800; letter-spacing: -0.05em; margin-bottom: 10px; }
        .page-header p { color: var(--text-sub); font-size: 1.1rem; }

        .announcement-list { display: flex; flex-direction: column; gap: 25px; }
        .announcement-box {
            background: #fbfbfd; border: 1px solid var(--border-color);
            padding: 30px; border-radius: 22px; transition: var(--transition);
            display: flex; flex-direction: column; gap: 12px;
        }
        .announcement-box:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(0,0,0,0.03); }
        .date-tag { font-size: 11px; font-weight: 700; color: var(--brand-blue); letter-spacing: 0.05em; }
        .announcement-text { font-size: 1.05rem; color: var(--text-main); font-weight: 500; }

        /* --- Footer --- */
        footer { padding: 60px 0; border-top: 1px solid var(--border-color); text-align: center; background: #fbfbfd; }
        .social-icons { display: flex; justify-content: center; gap: 25px; margin-bottom: 20px; }
        .social-icons img { width: 22px; height: 22px; filter: grayscale(1); opacity: 0.5; transition: var(--transition); }
        .social-icons a:hover img { filter: grayscale(0); opacity: 1; transform: translateY(-3px); }
        .footer-text { font-size: 11px; color: #aaa; letter-spacing: 0.05em; margin-bottom: 10px; }

        .footer-legal {
            margin-top: 10px;
            font-size: 10px;
            color: #aaa;
        }
        .footer-legal a {
            color: #aaa;
            text-decoration: none;
            transition: var(--transition);
            margin: 0 5px;
        }
        .footer-legal a:hover {
            color: var(--brand-blue);
        }
        .footer-legal .separator {
            color: #eee;
            user-select: none;
        }

        /* --- 响应式设计 --- */
        @media (max-width: 900px) {
            .hamburger { display: block; }
            .nav-links {
                position: absolute; top: 100%; left: 0; width: 100%; background: rgba(255, 255, 255, 0.98); 
                backdrop-filter: blur(20px); flex-direction: column; padding: 20px 0; gap: 0; opacity: 0; 
                transform: translateY(-20px); pointer-events: none; transition: all 0.3s ease;
            }
            .nav-links.active { opacity: 1; transform: translateY(0); pointer-events: auto; }
            .nav-links a { display: block; padding: 18px 0; text-align: center; font-size: 16px; }
            .btn-donate-nav { margin: 10px 40px; }
            .page-header h1 { font-size: 2.2rem; }
            .controls-wrapper { flex-direction: column; }
        }
    </style>
</head>
<body>

    <div class="lang-switcher">
        <button class="lang-btn active" onclick="updateLang('en')">ENGLISH</button>
        <button class="lang-btn" onclick="updateLang('zh-hans')">简体中文</button>
        <button class="lang-btn" onclick="updateLang('zh-hant')">繁體中文</button>
        <button class="lang-btn" onclick="updateLang('ko')">한국어</button>
        <button class="lang-btn" onclick="updateLang('ja')">日本語</button>
        <button class="lang-btn" onclick="updateLang('es')">ESPAÑOL</button>
        <button class="lang-btn" onclick="updateLang('fr')">FRANÇAIS</button>
    </div>

    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-brand-link"><img src="APSC_LOGO.png" alt="APSC Logo"></a>
            <div class="hamburger" id="hamburger-btn"><span></span><span></span><span></span></div>
            <ul class="nav-links" id="nav-menu">
                <li><a href="index.html" data-key="nav-home">Home</a></li>
                <li><a href="about.html" data-key="nav-about">About</a></li>
                <li><a href="contact.html" data-key="nav-contact">Contact</a></li>
                <li><a href="index.html#meeting-section" data-key="nav-meetings">Meetings</a></li>
                <li><a href="announcements.html" data-key="nav-ann" style="color: var(--brand-blue);">Announcements</a></li>
                <li><a href="support.html" data-key="nav-support">Get Support</a></li>
                <li><a href="guestbook.html" data-key="nav-feedback">Feedback</a></li>
                <li><a href="index.html#support" class="btn-donate-nav" data-key="nav-donate">Donate</a></li>
            </ul>
        </div>
    </nav>

    <div class="controls-wrapper">
        <input type="text" class="search-box" id="searchInput" placeholder="Search announcements..." onkeyup="filterAnnouncements()">
        <button class="sort-btn" id="sortBtn" onclick="toggleSort()" data-key="sort-new">Newest First ↑</button>
    </div>

    <main class="wrapper">
        <header class="page-header">
            <h1 data-key="page-title">Announcements</h1>
            <p data-key="page-sub">Stay updated with the latest from APSC.</p>
        </header>

        <div class="announcement-list" id="announcementList"></div>
    </main>

   <footer>
        <div class="social-icons">
            <a href="https://www.instagram.com/apsc_chs/" target="_blank"><img src="instagram_icon.png" alt="Instagram"></a>
            <a href="https://www.tiktok.com/@asian.peer.support.club" target="_blank"><img src="tiktok_icon.png" alt="TikTok"></a>
            <a href="https://youtube.com/@asianpeersupportclub" target="_blank"><img src="youtube_icon.png" alt="YouTube"></a>
            <a href="https://www.facebook.com/share/1JPeJSg5Lu/" target="_blank"><img src="facebook_icon.png" alt="Facebook"></a>
        </div>
        <p class="footer-text">© 2026 ASIAN PEER SUPPORT CLUB | CLARKSBURG HIGH SCHOOL</p>
        <div class="footer-legal">
            <a href="Privacy_Policy.html" data-key="legal-privacy">Privacy Policy</a>
            <span class="separator">|</span>
            <a href="Terms_of_Use.html" data-key="legal-terms">Terms of Use</a>
        </div>
    </footer>

    <script>
        // --- 汉堡菜单逻辑 ---
        const hamburger = document.getElementById('hamburger-btn');
        const navMenu = document.getElementById('nav-menu');
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // --- 数据定义 ---
        const announcementsData = [
            { id: 1, date: '10/15/2025', keys: { en: 'Welcome to APSC! We are excited to kick off the new school year with events and meetings.', 'zh-hans': '欢迎来到 APSC！我们很高兴能以一系列活动开启新的学年。', 'zh-hant': '歡迎來到 APSC！我們很高興能以一系列活動開啟新的學年。', ko: 'APSC에 오신 것을 환영합니다! 새로운 학기를 다양한 이벤트와 함께 시작하게 되어 기쁩니다.', ja: 'APSCへようこそ！新しい学年度をイベントやミーティングで始めることができ、ワクワクしています。', es: '¡Bienvenidos a APSC! Estamos emocionados de comenzar el nuevo año escolar con eventos y reuniones.', fr: 'Bienvenue à l\'APSC ! Nous sommes ravis de commencer la nouvelle année scolaire avec des événements.' } },
            { id: 2, date: '10/16/2025', keys: { en: 'No meeting next Monday (Holiday). Next meeting: Oct 27, 2025, at lunchtime in Room 1008.', 'zh-hans': '下周一为放假日，无会议。下次会议：10月27日午餐时间，1008教室。', 'zh-hant': '下週一為放假日，無會議。下次會議：10月27日午餐時間，1008教室。', ko: '다음 주 월요일은 휴교일이므로 모임이 없습니다. 다음 모임: 10월 27일 점심시간, 1008호.', ja: '来週の月曜日は休日のためミーティングはありません。次回：10月27日昼休み、1008号室。', es: 'No habrá reunión el próximo lunes. Próxima reunión: 27 de octubre, 1008.', fr: 'Pas de réunion lundi prochain. Prochaine réunion : 27 oct., salle 1008.' } },
            { id: 3, date: '10/27/2025', keys: { en: 'Great meeting! We introduced Chinese characters, grammar, and pinyin. Thanks for attending!', 'zh-hans': '会议很成功！我们介绍了汉字、语法和拼音。感谢参与！', 'zh-hant': '會議很成功！我們介紹了漢字、語法和拼音。感謝參與！', ko: '오늘 모임은 훌륭했습니다! 한자, 문법, 병음을 소개했습니다. 참석해 주셔서 감사합니다!', ja: '素晴らしいミーティングでした！漢字、文法、ピンインを紹介しました。参加ありがとう！', es: '¡Gran reunión! Introdujimos caracteres chinos, gramática y pinyin. ¡Gracias por asistir!', fr: 'Excellente réunion ! Nous avons introduit les caractères chinois, la grammaire et le pinyin.' } },
            { id: 4, date: '10/27/2025', keys: { en: 'Welcome new member Maddox Cherry! We are thrilled to have you with us.', 'zh-hans': '欢迎新成员 Maddox Cherry 加入！很高兴你的加入。', 'zh-hant': '歡迎新成員 Maddox Cherry 加入！很高興你的加入。', ko: '새 멤버 Maddox Cherry를 환영합니다! 우리와 함께하게 되어 정말 기쁩니다.', ja: '新メンバーの Maddox Cherry さん、ようこそ！仲間が増えて嬉しいです。', es: '¡Bienvenido Maddox Cherry! Estamos encantados de tenerte con nosotros.', fr: 'Bienvenue au nouveau membre Maddox Cherry ! Nous sommes ravis de vous avoir.' } },
            { id: 5, date: '10/31/2025', keys: { en: 'No meeting next Monday. Next meeting: Nov 10, 2025, in Room 1008.', 'zh-hans': '下周一无会议。下次会议：11月10日，1008教室。', 'zh-hant': '下週一無會議。下次會議：11月10日，1008教室。', ko: '다음 주 월요일은 모임이 없습니다. 다음 모임: 11월 10일, 1008호.', ja: '来週の月曜日はミーティングなし。次回：11月10日、1008号室。', es: 'Sin reunión el próximo lunes. Próxima reunión: 10 de nov., sala 1008.', fr: 'Pas de réunion lundi prochain. Prochaine réunion : 10 nov., salle 1008.' } },
            { id: 6, date: '11/09/2025', keys: { en:'Reminder: Fifth Meeting Tomorrow! We will discuss the Attendance System. All are welcome!' , 'zh-hans':'提醒：明天举行第5次会议！我们将讨论考勤系统。欢迎大家！' , 'zh-hant':'提醒：明天舉行第5次會議！我們將討論考勤系統。歡迎大家！' , 'ko':'알림: 내일 제5차 모임이 있습니다! 출석 시스템을 논의할 예정입니다. 모두 환영합니다!' , ja:'お知らせ：明日は第5回会議です! 出席システムについて話し合います。誰でも歓迎します!' , es:'Recordatorio: ¡Quinta reunión mañana! Discutiremos el sistema de asistencia.' , fr:'Rappel: Cinquième réunion demain! Nous discuterons du système d\'assiduité.' } },
            { id: 7, date: '11/10/2025', keys: { en: 'Thanks for attending! We discussed the Attendance System. Next meeting: Nov 17.', 'zh-hans': '感谢参与！我们讨论了考勤系统。下次会议：11月17日。', 'zh-hant': '感謝參與！我們討論了考勤系統。下次會議：11月17日。', ko: '참석해 주셔서 감사합니다! 출석 시스템을 논의했습니다. 다음 모임: 11월 17일.', ja: '参加ありがとう！出席システムについて话しました。次回：11月17日。', es: '¡Gracias por asistir! Hablamos de la asistencia. Próxima reunión: 17 de nov.', fr: 'Merci d\'être venus ! Prochaine réunion : 17 nov.' } },
            { id: 8, date: '12/01/2025', keys: { en: 'Early release next Monday, so no meeting. Next meeting: Dec 01 (Monday) in Room 1008.', 'zh-hans': '下周一学生提前放学，无会议。下次会议：12月01日，1008教室。', 'zh-hant': '下週一學生提前放學，無會議。下次會議：12月01日，1008教室。', ko: '다음 주 월요일은 조기 하교로 모임이 없습니다. 다음 모임: 12월 01일, 1008호.', ja: '来週月曜は短縮授業のためなし。次回：12月01日、1008号室。', es: 'Salida temprana el lunes, sin reunión. Próxima: 01 de dic., sala 1008.', fr: 'Sortie anticipée lundi, pas de réunion. Prochaine : 01 déc., salle 1008.' } },
            { id: 9, date: '12/09/2025', keys: { en: 'Holiday Event: Join our Christmas & New Year Celebration on Dec 19 in Room 1008! Food and prizes!', 'zh-hans': '节日活动：12月19日在1008教室举行圣诞及新年庆祝！有食物和奖品！', 'zh-hant': '節日活動：12月19日在1008教室舉行聖誕及新年慶祝！有食物和獎品！', ko: '홀리데이 이벤트: 12월 19일 1008호에서 크리스마스 & 새해 파티! 음식과 경품!', ja: 'ホリデーイベント：12月19日1008号室でクリスマス＆新年のお祝い！食事と景品あり！', es: 'Evento: ¡Celebración de Navidad y Año Nuevo el 19 de dic! ¡Comida y premios!', fr: 'Événement : Célébration de Noël et du Nouvel An le 19 déc. ! Nourriture et prix !' } },
            { id: 10, date: '12/14/2025', keys: { en: 'School delay tomorrow (2h), but APSC 9th Meeting will still be held at lunch.', 'zh-hans': '明天学校延迟2小时上课，但 APSC 第9次会议仍将在午餐时间举行。', 'zh-hant': '明天學校延遲2小時上課，但 APSC 第9次會議仍將在午餐時間舉行。', ko: '내일 등교 지연(2시간)이 있지만, APSC 제9차 모임은 점심시간에 정상 진행됩니다.', ja: '明日は2時間の始業遅延ですが、APSC第9回会議は昼休みに開催します。', es: 'Retraso escolar mañana (2h), pero la 9ª reunión de APSC se hará en el almuerzo.', fr: 'Retard scolaire demain (2h), mais la 9ème réunion de l\'APSC aura lieu à midi.' } },
            { id: 11, date: '12/14/2025', keys: { en: 'Warm reminder: Be careful during snowy weather. Stay safe!', 'zh-hans': '温馨提示：雪天路滑，请注意出行安全，保重身体！', 'zh-hant': '溫馨提示：雪天路滑，請注意出行安全，保重身體！', ko: '따뜻한 알림: 눈 오는 날씨에 조심하세요. 안전하게 다니세요!', ja: 'お知らせ：雪の日は足元に気をつけて。安全第一で！', es: 'Recordatorio: Ten cuidado con la nieve. ¡Mantente seguro!', fr: 'Rappel : Attention à la neige. Soyez prudents !' } },
            { id: 12, date: '12/19/2025', keys: { en: 'Successful Christmas Celebration today! Looking forward to the next one!', 'zh-hans': '今天圣诞庆祝活动非常成功！期待下一次！', 'zh-hant': '今天聖誕慶祝活動非常成功！期待下一次！', ko: '성공적인 크리스마스 축제였습니다! 다음 축제를 기약합니다!', ja: 'クリスマスイベントは大成功！次回も楽しみです！', es: '¡Celebración navideña exitosa hoy!', fr: 'Célébration de Noël réussie !' } },
            { id: 13, date: '12/31/2025', keys: { en: 'The video of 2025 Milestones - APSC has been made, please check out our social media to learn it!', 'zh-hans': '2025年大事记视频已制作完成，请查看我们的社交媒体了解详情！', 'zh-hant': '2025年大事記視頻已製作完成，請查看我們的社交媒體了解詳情！', ko: '2025년 주요 사건 영상이 제작되었습니다. 자세한 내용은 소셜 미디어를 확인하세요!', ja: '2025年のマイルストーン動画が完成しました。詳細はソーシャルメディアをチェックしてください！', es: '¡El video de los hitos de 2025 está listo! ¡Revisa nuestras redes sociales para verlo!', fr: 'La vidéo des jalons de 2025 est prête, consultez nos réseaux sociaux pour la découvrir !' } },
            { id: 14, date: '12/31/2025', keys: { en: 'Time flies! 2025 is coming to an end soon. In this year, we have grown a lot even though we just started in October of 2025. Thank you all for your support and participation. Wishing everyone a joyful and prosperous 2026!', 'zh-hans': '时间飞逝！2025年即将结束。虽然我们刚在2025年10月开始，但这一年我们已经成长了很多。感谢大家的支持和参与。祝大家2026年快乐繁荣！', 'zh-hant': '時間飛逝！2025年即將結束。雖然我們剛在2025年10月開始，但這一年我們已經成長了很多。感謝大家的支持和參與。祝大家2026年快樂繁榮！', ko: '시간이 참 빠르네요! 2025년이 곧 끝납니다. 우리는 2025년 10월에 시작했음에도 불구하고 많은 성장을 이루었습니다. 여러분의 지원과 참여에 감사드립니다. 모두에게 즐겁고 번영하는 2026년이 되길 바랍니다!', ja: '時間が飛ぶように過ぎ去りますね！2025年ももうすぐ終わります。今年は2025年10月に始まったばかりですが、多くの成長を遂げました。皆様のご支援とご参加に感謝いたします。皆様にとって喜びと繁栄の2026年となりますように！', es: '¡El tiempo vuela! El 2025 está llegando a su fin. Aunque comenzamos en octubre de 2025, hemos crecido mucho este año. ¡Gracias por su apoyo y participación! ¡Feliz y próspero 2026 para todos!', fr: 'Le temps passe vite ! 2025 touche à sa fin. Bien que nous ayons commencé en octobre 2025, nous avons beaucoup grandi cette année. Merci pour votre soutien et votre participation. Bonne et prospère année 2026 à tous !' } },
            { id: 15, date: '01/01/2026', keys: { en: 'Happy New Year 2026! A brand new chapter for APSC!', 'zh-hans': '2026年新年快乐！APSC迎来崭新篇章！', 'zh-hant': '2026年新年快樂！APSC迎來嶄新篇章！', ko: '2026년 새해 복 많이 받으세요! APSC의 새로운 장이 열립니다!', ja: 'あけましておめでとうございます！APSCの新しい章が始まります！', es: '¡Feliz Año Nuevo 2026! ¡Un nuevo capítulo para APSC!', fr: 'Bonne année 2026 ! Un nouveau chapitre pour l\'APSC !' } },
            { id: 16, date: '01/05/2026', keys: { en: 'Election Meeting on Jan 12, 2026! Join us to vote for new club leaders and share your ideas.', 'zh-hans': '2026年1月12日选举会议！加入我们，为新社团领导人投票并分享你的想法。', 'zh-hant': '2026年1月12日選舉會議！加入我們，為新社團領導人投票並分享你的想法。', ko: '2026년 1월 12일 선거 모임! 새로운 동아리 리더를 위해 투표하고 아이디어를 공유하세요.', ja: '2026年1月12日に選挙ミーティングがあります！新しいクラブリーダーに投票し、アイデアを共有しましょう。', es: '¡Reunión electoral el 12 de enero de 2026! Únete para votar por nuevos líderes del club y compartir tus ideas.', fr: 'Réunion électorale le 12 janvier 2026 ! Rejoignez-nous pour voter pour les nouveaux dirigeants du club et partager vos idées.' } },
            { id: 17, date: '01/12/2026', keys: { en: 'Thank you for participating in the election meeting! Congratulations to the new club leaders. Looking forward to a great year ahead!', 'zh-hans': '感谢参与选举会议！祝贺新社团领导人。期待美好的一年！', 'zh-hant': '感謝參與選舉會議！祝賀新社團領導人。期待美好的一年！', ko: '선거 모임에 참여해 주셔서 감사합니다! 새로운 동아리 리더들에게 축하를 보냅니다. 멋진 한 해가 되길 기대합니다!', ja: '選挙ミーティングに参加してくれてありがとう！新しいクラブリーダーの皆さん、おめでとうございます。素晴らしい一年になることを楽しみにしています！', es: '¡Gracias por participar en la reunión electoral! Felicitaciones a los nuevos líderes del club. ¡Esperamos un gran año por delante!', fr: 'Merci d\'avoir participé à la réunion électorale ! Félicitations aux nouveaux dirigeants du club. Nous attendons avec impatience une excellente année à venir !' } },
            { id: 18, date: '01/15/2026', keys: { en: 'We will not have meetings for next two Mondays (Jan. 19 & Jan. 26) due to the non-school days', 'zh-hans': '下两周一（1月19日及1月26日）的会议将不进行由于为放假日。', 'zh-hant': '下兩週一（1月19日及1月26日）的會議將不進行由於為放假日。', ko: '다음 두 주 월요일(1월 19일 및 1월 26일)은 비학기일로 인해 모임이 없습니다.', ja: '次の2つの月曜日（1月19日と1月26日）は学校が休みのため、ミーティングはありません。', es: 'No tendremos reuniones los próximos dos lunes (19 y 26 de enero) debido a los días no escolares.', fr: 'Nous n\'aurons pas de réunions les deux prochains lundis (19 et 26 jan.) en raison des jours non scolaires.' } },
            { id: 19, date: '01/23/2026', keys: { en: 'Attention: It will be snowing this weekend, please be careful when going outside!', 'zh-hans': '注意：本周末将有降雪，请外出时注意安全！', 'zh-hant': '注意：本週末將有降雪，請外出時注意安全！', ko: '주의: 이번 주말에 눈이 올 예정이니 외출 시 조심하세요!', ja: '注意：今週末は雪が降る予報です。外出の際はお気をつけください！', es: 'Atención: ¡Este fin de semana nevará, ten cuidado al salir!', fr: 'Attention : Il va neiger ce week-end, soyez prudents en sortant !' } },
            { id: 20, date: '02/01/2026', keys: { en: 'Due to the schools are closed tomorrow (Feb 2), there will be no meeting. Next meeting will be held in this week once schools are open again.', 'zh-hans': '由于明天（2月2日）学校关闭，会议将不进行。下次会议将在学校重新开放后于本周举行。', 'zh-hant': '由於明天（2月2日）學校關閉，會議將不進行。下次會議將在學校重新開放後於本週舉行。', ko: '내일(2월 2일) 학교가 휴교이므로 모임이 없습니다. 다음 모임은 학교가 다시 열리면 이번 주에 개최됩니다.', ja: '明日（2月2日）は学校が休みのため、ミーティングはありません。次回のミーティングは学校が再開した今週中に開催されます。', es: 'Debido a que las escuelas estarán cerradas mañana (2 de feb.), no habrá reunión. La próxima se realizará esta semana una vez que las escuelas reabran.', fr: 'En raison de la fermeture des écoles demain (2 fév.), il n\'y aura pas de réunion. La prochaine aura lieu cette semaine une fois les écoles rouvertes.' } },
            { id: 21, date: '02/04/2026', keys: { en: 'The Lunar New Year Decorations Fundraiser starts on Friday is cancelled due to the weather and other issues. It has been rescheduled to Feb 13 (Friday) at 4:00 PM in the front of the GW Supermartket (Germantown). We apologize for any inconvenience and hope to see you there on the 14th! To learn more, check out our fundraiser page!', 'zh-hans': '由于天气和其他问题，原定于周五开始的农历新年装饰品筹款活动已取消。现已重新安排在2月13日（周五）下午4点在GW超市前（Germantown）举行。对于任何不便我们深表歉意，并希望在13日见到您！欲了解更多信息，请查看我们的筹款页面！', 'zh-hant': '由於天氣和其他問題，原定於周五開始的農曆新年裝飾品籌款活動已取消。現已重新安排在2月13日（周五）下午4點在GW超市前（Germantown）舉行。對於任何不便我們深表歉意，並希望在13日見到您！欲了解更多信息，請查看我們的籌款頁面！', ko: '날씨 및 기타 문제로 인해 금요일에 시작될 예정이었던 설날 장식품 모금 행사가 취소되었습니다. 2월 13일(금) 오후 4시에 GW 슈퍼마켓 앞(저먼타운)에서 다시 개최됩니다. 불편을 드려 죄송하며, 13일에 뵙기를 바랍니다! 자세한 내용은 모금 페이지를 확인하세요!', ja: '天候やその他の問題により、金曜日に開始予定だった旧正月の装飾品募金活動は中止されました。2月13日（金）午後4時にGWスーパーマーケット前（ガーマンタウン）で再開催されます。ご不便をおかけして申し訳ありませんが、13日にお会いできることを楽しみにしています！詳細は募金ページをご覧ください！', es: 'Debido al clima y otros problemas, la recaudación de fondos para las decoraciones del Año Nuevo Lunar que estaba programada para comenzar el viernes ha sido cancelada. Se ha reprogramado para el 13 de febrero (viernes) a las 4:00 PM frente al supermercado GW (Germantown). ¡Pedimos disculpas por cualquier inconveniente y esperamos verte allí el día 13! Para saber más, ¡consulta nuestra página de recaudación de fondos!' , fr: 'En raison du temps et d\'autres problèmes, la collecte de fonds pour les décorations du Nouvel An lunaire prévue pour commencer vendredi a été annulée. Elle a été reprogrammée pour le 13 février (vendredi) à 16h00 devant le supermarché GW (Germantown). Nous nous excusons pour tout inconvénient et espérons vous voir là-bas le 13 ! Pour en savoir plus, consultez notre page de collecte de fonds !' } },
            { id: 22, date: '02/06/2026', keys: { en: 'Welcome students from Shanghai, China! We are honored to partner with our CHS ambassadors to host such a wonderful school tour for our special guests. We hope you had a great time and look forward to more cultural exchange opportunities in the future!', 'zh-hans': '欢迎来自中国上海的学生！我们很荣幸与我们的 CHS 大使合作，为我们的特别嘉宾举办这样一个精彩的学校参观。希望你们度过了愉快的时光，并期待未来有更多文化交流的机会！', 'zh-hant': '歡迎來自中國上海的學生！我們很榮幸與我們的 CHS 大使合作，為我們的特別嘉賓舉辦這樣一個精彩的學校參觀。希望你們度過了愉快的時光，並期待未來有更多文化交流的機會！', ko: '중국 상하이에서 온 학생들을 환영합니다! 우리는 CHS 대사들과 협력하여 특별한 손님들을 위한 멋진 학교 투어를 주최하게 되어 영광입니다. 즐거운 시간을 보내셨기를 바라며 앞으로 더 많은 문화 교류 기회를 기대합니다!', ja: '中国上海からの学生の皆さん、ようこそ！私たちはCHS大使と協力して、特別なゲストのために素晴らしい学校ツアーを開催できることを光栄に思います。楽しい時間を過ごされたことを願っており、将来さらに多くの文化交流の機会を楽しみにしています！', es: '¡Bienvenidos estudiantes de Shanghai, China! Nos sentimos honrados de asociarnos con nuestros embajadores de CHS para organizar un recorrido escolar tan maravilloso para nuestros invitados especiales. ¡Esperamos que hayan tenido un gran tiempo y esperamos más oportunidades de intercambio cultural en el futuro!', fr: 'Bienvenue aux étudiants de Shanghai, en Chine ! Nous sommes honorés de collaborer avec nos ambassadeurs CHS pour organiser une visite d\'école aussi exceptionnelle pour nos invités de marque. Nous espérons que vous avez passé un excellent moment et nous nous réjouissons à l\'idée de futures opportunités d\'échanges culturels !"' } },
            { id: 23, date: '02/12/2026', keys: { en: 'Reminder: Lunar New Year Decorations Fundraiser Tomorrow at 4:00 PM in front of GW Supermarket (Germantown). Come support APSC and get festive decorations!', 'zh-hans': '提醒：农历新年装饰品筹款活动将于明天下午4点在GW超市前（Germantown）举行。来支持APSC并获取节日装饰品！', 'zh-hant': '提醒：農曆新年裝飾品籌款活動將於明天下午4點在GW超市前（Germantown）舉行。來支持APSC並獲取節日裝飾品！', ko: '알림: 설날 장식품 모금 행사가 내일 오후 4시에 GW 슈퍼마켓 앞(저먼타운)에서 열립니다. APSC를 지원하고 축제 장식을 받아가세요!', ja: 'お知らせ：旧正月の装飾品募金活動は明日午後4時にGWスーパーマーケット前（ガーマンタウン）で開催されます。APSCをサポートして、フェスティブな装飾品を手に入れましょう！', es: 'Recordatorio: Recaudación de fondos para decoraciones del Año Nuevo Lunar mañana a las 4:00 PM frente al supermercado GW (Germantown). ¡Ven a apoyar a APSC y consigue decoraciones festivas!', fr: 'Rappel : Collecte de fonds pour les décorations du Nouvel An lunaire demain à 16h00 devant le supermarché GW (Germantown). Venez soutenir l\'APSC et obtenir des décorations festives !' } },
            { id: 24, date: '02/14/2026', keys: { en: 'No meeting next week due to the Holiday and the Non-Instructional Day on Monday and Tuesday. Next meeting will be held on Feb 24 (Monday) at lunchtime in Room 1008.', 'zh-hans': '下周一和周二为放假日和非教学日，无会议。下次会议：2月24日（周一）午餐时间，1008教室。', 'zh-hant': '下週一和週二為放假日和非教學日，無會議。下次會議：2月24日（周一）午餐時間，1008教室。', ko: '다음 주 월요일과 화요일은 휴일과 비수업일이므로 모임이 없습니다. 다음 모임: 2월 24일(월) 점심시간, 1008호.', ja: '来週の月曜日と火曜日は休日と非授業日でミーティングはありません。次回は2月24日（月）昼休みに1008号室で開催します。', es: 'No habrá reunión la próxima semana debido a los días festivos y no lectivos el lunes y martes. La próxima reunión será el 24 de febrero (lunes) a la hora del almuerzo en la sala 1008.', fr: 'Pas de réunion la semaine prochaine en raison des jours fériés et non pédagogiques lundi et mardi. La prochaine réunion aura lieu le 24 février (lundi) à l\'heure du déjeuner dans la salle 1008.' } },
            { id: 25, date: '02/17/2026', keys: { en: 'Happy Spring Festival! Wishing everyone a joyful and prosperous year ahead!', 'zh-hans': '春节快乐！祝大家新年快乐，万事如意！', 'zh-hant': '春節快樂！祝大家新年快樂，萬事如意！', ko: '즐거운 춘절 되세요! 모두에게 즐겁고 번영하는 한 해가 되길 바랍니다!', ja: '春節おめでとうございます！皆様にとって喜びと繁栄の一年になりますように！', es: '¡Feliz Festival de Primavera! ¡Deseando a todos un año alegre y próspero por delante!', fr: 'Joyeux Festival du Printemps ! Nous souhaitons à tous une année joyeuse et prospère à venir !' } },
            { id: 26, date: '02/18/2026', keys: { en: 'Clarksburg High School Chinese Class will partner with APSC to host a Chinese New Year Celebration Party during the period 1 and period 2 on Feb 19, Thursday in Room 1008. We are looking forward to celebrating the Chinese New Year with our CHS students and sharing the festive spirit together!', 'zh-hans': '克拉克斯堡高中中文班将与APSC合作，于2月19日（周四）第一节和第二节在1008教室举办中国新年庆祝派对。我们期待与我们的CHS学生一起庆祝中国新年，共享节日的喜悦！', 'zh-hant': '克拉克斯堡高中中文班將與APSC合作，於2月19日（周四）第一節和第二節在1008教室舉辦中國新年慶祝派對。我們期待與我們的CHS學生一起慶祝中國新年，共享節日的喜悅！', ko: '클라크스버그 고등학교 중국어 수업이 APSC와 협력하여 2월 19일 목요일 1교시와 2교시에 1008호에서 중국 설날 축하 파티를 개최합니다. CHS 학생들과 함께 중국 설날을 축하하고 축제 분위기를 함께 나누기를 기대합니다!', ja: 'クラークスバーグ高校の中国語クラスがAPSCと協力して、2月19日（木）の1時間目と2時間目に1008号室で中国の新年を祝うパーティーを開催します。CHSの学生たちと一緒に中国の新年を祝い、楽しい雰囲気を共有できることを楽しみにしています！', es: '¡La clase de chino de Clarksburg High School se asociará con APSC para organizar una fiesta de celebración del Año Nuevo Chino durante el período 1 y el período 2 el 19 de febrero, jueves, en la sala 1008. ¡Esperamos celebrar el Año Nuevo Chino con nuestros estudiantes de CHS y compartir juntos el espíritu festivo!' , fr: 'La classe de chinois du lycée Clarksburg s\'associera à l\'APSC pour organiser une fête de célébration du Nouvel An chinois pendant la période 1 et la période 2 le jeudi 19 février dans la salle 1008. Nous sommes impatients de célébrer le Nouvel An chinois avec nos étudiants du CHS et de partager ensemble l\'esprit festif !' } }
        ];

        // 变量名改为 i18n 以配合你的标准函数
        const i18n = {
            en: { 'nav-home': 'Home', 'nav-about': 'About', 'nav-contact': 'Contact', 'nav-meetings': 'Meetings', 'nav-ann': 'Announcements', 'nav-support': 'Get Support', 'nav-xmas': '2025 Christmas', 'nav-feedback': 'Feedback', 'nav-donate': 'Donate', 'page-title': 'Announcements', 'page-sub': 'Stay updated with the latest from APSC.', 'sort-new': 'Newest First ↑', 'sort-old': 'Oldest First ↓', 'search-ph': 'Search announcements...', 'legal-privacy': 'Privacy Policy', 'legal-terms': 'Terms of Use' },
            'zh-hans': { 'nav-home': '首页', 'nav-about': '关于我们', 'nav-contact': '联系我们', 'nav-meetings': '会议安排', 'nav-ann': '公告通知', 'nav-support': '获取支持', 'nav-xmas': '2025 圣诞', 'nav-feedback': '反馈', 'nav-donate': '捐赠支持', 'page-title': '公告通知', 'page-sub': '获取 APSC 的最新动态。', 'sort-new': '最新优先 ↑', 'sort-old': '最早优先 ↓', 'search-ph': '搜索公告内容...', 'legal-privacy': '隐私政策', 'legal-terms': '使用条款' },
            'zh-hant': { 'nav-home': '首頁', 'nav-about': '關於我們', 'nav-contact': '聯絡我們', 'nav-meetings': '會議安排', 'nav-ann': '公告通知', 'nav-support': '獲取支持', 'nav-xmas': '2025 聖誕', 'nav-feedback': '反饋', 'nav-donate': '捐贈支持', 'page-title': '公告通知', 'page-sub': '獲取 APSC 的最新動態。', 'sort-new': '最新優先 ↑', 'sort-old': '最早優先 ↓', 'search-ph': '搜索公告內容...', 'legal-privacy': '隱私政策', 'legal-terms': '使用條款' },
            'ko': { 'nav-home': '홈', 'nav-about': '정보', 'nav-contact': '연락처', 'nav-meetings': '회의 일정', 'nav-ann': '공지사항', 'nav-support': '지원 받기', 'nav-xmas': '2025 크리스마스', 'nav-feedback': '피드백', 'nav-donate': '기부', 'page-title': '공지사항', 'page-sub': 'APSC의 최신 소식을 확인하세요.', 'sort-new': '최신순 ↑', 'sort-old': '오래된순 ↓', 'search-ph': '공지 검색...', 'legal-privacy': '개인정보 보호정책', 'legal-terms': '이용 약관' },
            'ja': { 'nav-home': 'ホーム', 'nav-about': '詳細', 'nav-contact': 'お問い合わせ', 'nav-meetings': '会議日程', 'nav-ann': 'お知らせ', 'nav-support': 'サポートを受ける', 'nav-feedback': '感想', 'nav-donate': '寄付', 'page-title': 'お知らせ', 'page-sub': 'APSCの最新情報をお届けします。', 'sort-new': '新しい順 ↑', 'sort-old': '古い順 ↓', 'search-ph': 'お知らせを検索...', 'legal-privacy': 'プライバシーポリシー', 'legal-terms': '利用規約' },
            'es': { 'nav-home': 'Inicio', 'nav-about': 'Acerca de', 'nav-contact': 'Contacto', 'nav-meetings': 'Reuniones', 'nav-ann': 'Anuncios', 'nav-support': 'Obtener Apoyo', 'nav-feedback': 'Comentarios', 'nav-donate': 'Donar', 'page-title': 'Anuncios', 'page-sub': 'Mantente al día con lo último de APSC.', 'sort-new': 'Nuevos primero ↑', 'sort-old': 'Antiguos primero ↓', 'search-ph': 'Buscar anuncios...', 'legal-privacy': 'Política de Privacidad', 'legal-terms': 'Términos de Uso' },
            'fr': { 'nav-home':'Accueil','nav-about':'À propos','nav-contact':'Contactez-nous','nav-ann':'Annonces', 'nav-support':'Obtenir du soutien','nav-feedback':'Avis','nav-donate':'Donner','page-title':'Annonces','page-sub':'Restez informé des nouveautés de l\'APSC.','sort-new':'Plus récents ↑','sort-old':'Plus anciens ↓','search-ph':'Chercher des annonces...' }
        };

        let currentLang = 'en';
        let isAscending = false;

        // --- 核心切换函数 (基于你提供的标准) ---
        function updateLang(lang) {
            // 1. 保存到会话存储
            sessionStorage.setItem('selectedLang', lang);

            // 2. 更新按钮 UI 状态
            document.querySelectorAll('.lang-btn').forEach(btn => {
                // 根据按钮的内容或点击的参数来匹配高亮
                if (btn.getAttribute('onclick').includes(`'${lang}'`)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            // 3. 执行翻译 (data-key)
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (i18n[lang] && i18n[lang][key]) {
                    el.innerText = i18n[lang][key];
                }
            });

            // 4. [此页面特有逻辑] 更新全局变量和页面动态内容
            currentLang = lang;
            
            // 更新搜索框占位符
            if(document.getElementById('searchInput')) {
                document.getElementById('searchInput').placeholder = i18n[lang]['search-ph'];
            }
            
            // 重新渲染公告列表
            render();
        }

        // --- 页面逻辑：渲染公告 ---
        function render() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            let filtered = announcementsData.filter(item => 
                (item.keys[currentLang] && item.keys[currentLang].toLowerCase().includes(searchTerm)) || 
                item.date.includes(searchTerm)
            );
            filtered.sort((a, b) => isAscending ? new Date(a.date) - new Date(b.date) : new Date(b.date) - new Date(a.date));
            const listEl = document.getElementById('announcementList');
            
            if (filtered.length === 0) {
                listEl.innerHTML = `<p style="text-align:center; color:var(--text-sub); margin-top:20px;">No announcements found.</p>`;
                return;
            }

            listEl.innerHTML = filtered.map(item => `
                <div class="announcement-box">
                    <span class="date-tag">${item.date}</span>
                    <p class="announcement-text">${item.keys[currentLang] || item.keys['en']}</p>
                </div>
            `).join('');
        }

        function toggleSort() {
            isAscending = !isAscending;
            const btn = document.getElementById('sortBtn');
            btn.innerText = i18n[currentLang][isAscending ? 'sort-old' : 'sort-new'];
            render();
        }

        function filterAnnouncements() { render(); }

        // --- 页面加载时自动初始化 (标准逻辑) ---
        window.addEventListener('DOMContentLoaded', () => {
            const savedLang = sessionStorage.getItem('selectedLang');
            // 如果有保存的语言且不是默认的英文，则应用它
            if (savedLang && savedLang !== 'en') {
                updateLang(savedLang);
            } else {
                // 如果是第一次访问或没有保存，默认渲染一次英文列表
                render();
            }
        });
    </script>
</body>
</html>